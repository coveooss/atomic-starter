<!DOCTYPE html>
<html>
  <head>
    <script
      type="module"
      src="https://static.cloud.coveo.com/atomic/latest/atomic.esm.js"
    ></script>
    <link
      rel="stylesheet"
      href="https://static.cloud.coveo.com/atomic/latest/themes/coveo.css"
    />
    <link rel="stylesheet" href="style.css" />
    <script>
      (async () => {
        await customElements.whenDefined("atomic-search-interface");
        const searchInterface = document.querySelector("#search");

        await searchInterface.initialize({
          accessToken: "xx29e62e9b-f739-4886-b433-c9326cc1b492",
          organizationId: "docsdemoslhkhaxyy",
        });

        searchInterface.executeFirstSearch();
      })();
    </script>
  </head>
  <body>
    <atomic-search-interface id="search">
      <div class="searchbox">
        <atomic-search-box></atomic-search-box>
      </div>
      <atomic-facet-manager>
        <atomic-facet
          field="author"
          label="Authors"
          is-collapsed="true"
        ></atomic-facet>
        <atomic-facet
          field="language"
          label="Language"
          is-collapsed="true"
        ></atomic-facet>
        <atomic-timeframe-facet
          label="Timeframe"
          with-date-picker="true"
          is-collapsed="true"
        >
          <atomic-timeframe unit="hour"></atomic-timeframe>
          <atomic-timeframe unit="day"></atomic-timeframe>
          <atomic-timeframe unit="week"></atomic-timeframe>
          <atomic-timeframe unit="month"></atomic-timeframe>
          <atomic-timeframe unit="quarter"></atomic-timeframe>
          <atomic-timeframe unit="year"></atomic-timeframe>
        </atomic-timeframe-facet>
      </atomic-facet-manager>
      <div class="topbar">
        <atomic-refine-toggle></atomic-refine-toggle>
      </div>
      <div class="results">
        <atomic-result-list
          display="grid"
          image="icon"
          density="compact"
          fields-to-include="ytlikecount,ytviewcount,ytthumbnailurl,ytviewrating"
        >
          <atomic-result-template>
            <template>
              <atomic-result-section-visual>
                <atomic-result-icon></atomic-result-icon>
              </atomic-result-section-visual>
              <atomic-result-section-badges>
                <atomic-result-badge
                  field="language"
                  icon="https://raw.githubusercontent.com/Rush/Font-Awesome-SVG-PNG/master/black/svg/language.svg"
                ></atomic-result-badge>
                <atomic-field-condition must-match-sourcetype="YouTube">
                  <atomic-result-badge
                    label="YouTube"
                    class="youtube-badge"
                  ></atomic-result-badge>
                </atomic-field-condition>
              </atomic-result-section-badges>
              <atomic-result-section-title>
                <atomic-result-link target="_blank"></atomic-result-link>
              </atomic-result-section-title>
              <atomic-result-section-excerpt>
                <atomic-result-text field="excerpt"></atomic-result-text>
              </atomic-result-section-excerpt>
            </template>
          </atomic-result-template>
        </atomic-result-list>
      </div>
      <div class="pagination">
        <atomic-pager></atomic-pager>
        <atomic-results-per-page></atomic-results-per-page>
      </div>
    </atomic-search-interface>
  </body>
</html>
