<!DOCTYPE html>
<html>
  <head>
    <title>Coveo Atomic Tutorial</title>
    <script
      type="module"
      src="https://static.cloud.coveo.com/atomic/latest/atomic.esm.js"
    ></script>
    <link
      rel="stylesheet"
      href="https://static.cloud.coveo.com/atomic/latest/themes/coveo.css"
    />
    <link
      rel="stylesheet"
      href="style.css"
    />
    <script>
      (async () => {
        await customElements.whenDefined("atomic-search-interface");
        const searchInterface = document.querySelector("#search");

        await searchInterface.initialize({
          accessToken: "xx29e62e9b-f739-4886-b433-c9326cc1b492",
          organizationId: "docsdemoslhkhaxyy"
        });

        searchInterface.executeFirstSearch();
      })();
    </script>
  </head>

  <body>
    <atomic-search-interface id="search">
      <div class="searchbox"></div>
      <atomic-search-box></atomic-search-box>
        <atomic-facet-manager>
          <atomic-facet field="sourcetype" label="Source" is-collapsed="true"></atomic-facet>
          <atomic-facet field="language" label="Language" is-collapsed="true"></atomic-facet>
          <atomic-numeric-facet
            field="ytlikecount"
            label="Youtube Likes"
            display-values-as="checkbox"
            is-collapsed="true"
            sort-criteria="descending"
          >
            <atomic-numeric-range
              start="0"
              end="1000"
              label="Unpopular"
            ></atomic-numeric-range>
            <atomic-numeric-range
              start="1000"
              end="8000"
              label="Well liked"
            ></atomic-numeric-range>
            <atomic-numeric-range
              start="8000"
              end="100000"
              label="Popular"
            ></atomic-numeric-range>
            <atomic-numeric-range
              start="100000"
              end="999999999"
              label="Treasured"
            ></atomic-numeric-range>
          </atomic-numeric-facet>
          <atomic-timeframe-facet label="Date Added" with-date-picker is-collapsed="true">
            <atomic-timeframe unit="hour"></atomic-timeframe>
            <atomic-timeframe unit="day"></atomic-timeframe>
            <atomic-timeframe unit="week"></atomic-timeframe>
            <atomic-timeframe unit="month"></atomic-timeframe>
            <atomic-timeframe unit="quarter"></atomic-timeframe>
            <atomic-timeframe unit="year"></atomic-timeframe>
            <atomic-timeframe
              unit="year"
              amount="10"
              period="next"
            ></atomic-timeframe>
          </atomic-timeframe-facet>
          <atomic-category-facet field="ytvideotags" label="Categories">
          </atomic-category-facet>
          <atomic-color-facet
          field="filetype"
          label="File Types"
          number-of-values="3"
          sort-criteria="occurrences"
        ></atomic-color-facet>
        </atomic-facet-manager>
        <atomic-refine-toggle></atomic-refine-toggle>
      <atomic-breadbox></atomic-breadbox>
      <div class="topbar">
        <atomic-query-summary enable-duration="false"></atomic-query-summary>
        <atomic-sort-dropdown>
          <atomic-sort-expression
          label="Date"
          expression="date descending"
          ></atomic-sort-expression>
          <atomic-sort-expression
          label="Popular Videos"
          expression="ytlikecount descending"
          ></atomic-sort-expression>
        </atomic-sort-dropdown>
      </div>
      <div class="results">
        <atomic-did-you-mean></atomic-did-you-mean>
        <atomic-result-list fields-to-include="ytlikecount,ytviewcount,ytthumbnailurl,ytviewrating" display="grid" image="small">
          <atomic-result-template>
            <template>
              <style>
                .field {
                  display: inline-flex;
                  white-space: nowrap;
                  align-items: center;
                }

                .field-label {
                  font-weight: bold;
                  margin-right: 0.25rem;
                }

                .thumbnail {
                  width: 200%;
                  height: 200%;
                }

                .icon {
                  display: none;
                }

                .result-icon{
                  width: 80%;
                  margin: auto;
                  padding-top: 0.8em;
                }

                .result-root.image-small .thumbnail,
                .result-root.image-large .thumbnail {
                  display: inline-block;
                  padding-top: 21%;
                }

                .result-root.image-icon .icon {
                  display: none;
                }

                atomic-result-section-badges {
                  display: flex;
                }

                atomic-result-section-badges > atomic-field-condition {
                  display: inline-block;
                  height: 100%;
                }

                .salesforce-badge::part(result-badge-element) {
                  background-color: #44a1da;
                  color: white;
                }

                #youtubevideo-ted::part(result-badge-element) {
                  background-color: red;
                  color: white;
                }

                #youtubevideo-tedx::part(result-badge-element) {
                  background-color:white;
                  color: red;
                  border: 1px solid black;
                }

                #youtubevideo-ted-ed::part(result-badge-element) {
                  background-color: black;
                  color: red;
                }

                atomic-result-text:hover {
                  color: rgb(255, 118, 118);
                }

                @media only screen and (min-width: 1024px) {
                }

              </style>
                <atomic-result-section-visual>
                  <atomic-field-condition must-match-sourcetype="YouTube">
                    <atomic-result-image field="ytthumbnailurl"></atomic-result-image>
                    <img src="https://cdn.cdnlogo.com/logos/y/92/youtube.svg" />
                  </atomic-field-condition>
                  <atomic-field-condition must-match-sourcetype="RSS">
                    <img src="https://cdn.cdnlogo.com/logos/r/89/rss.svg"/>
                  </atomic-field-condition>
                  <atomic-field-condition must-match-sourcetype="Twitter2">
                    <img src="https://cdn.cdnlogo.com/logos/t/96/twitter-icon.svg"/>
                  </atomic-field-condition>
                </atomic-result-section-visual>
              <atomic-result-section-badges>
                <atomic-field-condition must-match-author="TED">
                  <atomic-result-badge
                    field="author"
                    id="youtubevideo-ted"
                  ></atomic-result-badge>
                </atomic-field-condition>
                <atomic-field-condition must-match-author="TEDx Talks">
                  <atomic-result-badge
                    field="author"
                    id="youtubevideo-tedx"
                  ></atomic-result-badge>
                </atomic-field-condition>
                <atomic-field-condition must-match-author="TED-Ed">
                  <atomic-result-badge
                    field="author"
                    id="youtubevideo-ted-ed"
                  ></atomic-result-badge>
                </atomic-field-condition>
                <atomic-result-badge
                  id="language-badge"
                  field="language"
                  icon="https://raw.githubusercontent.com/Rush/Font-Awesome-SVG-PNG/master/black/svg/language.svg"
                ></atomic-result-badge>
              </atomic-result-section-badges>
              <atomic-result-section-title
                ><atomic-result-link target="blank"></atomic-result-link
              ></atomic-result-section-title>
              <atomic-result-section-title-metadata>
                <atomic-field-condition if-defined="ytviewrating">
                  <atomic-result-rating field="ytviewrating"></atomic-result-rating>
                </atomic-field-condition>
              </atomic-result-section-title-metadata>
              <atomic-result-section-excerpt
                ><atomic-result-text field="excerpt"></atomic-result-text
              ></atomic-result-section-excerpt>
              <atomic-result-section-bottom-metadata>
                <atomic-result-fields-list>
                  <atomic-field-condition if-defined="author">
                    <span
                      ><atomic-text value="author"></atomic-text>:</span
                    >
                    <atomic-result-text field="author"></atomic-result-text>
                  </atomic-field-condition>
                  <atomic-field-condition if-defined="ytlikecount">
                    <span
                      ><atomic-text value="YouTube Likes"></atomic-text>:</span
                    >
                    <atomic-result-number field="ytlikecount"></atomic-result-number>
                  </atomic-field-condition>
                  <atomic-field-condition if-defined="ytviewcount">
                    <span
                      ><atomic-text value="YouTube Views"></atomic-text>:</span
                    >
                    <atomic-result-number field="ytviewcount"></atomic-result-number>
                  </atomic-field-condition>
                  <span>
                    <span>Date:</span>
                    <atomic-result-date></atomic-result-date>
                  </span>
                </atomic-result-fields-list>
              </atomic-result-section-bottom-metadata>
            </template>
          </atomic-result-template>
        </atomic-result-list>
      </div>
      <div class="pagination">
        <atomic-pager></atomic-pager>
        <atomic-results-per-page></atomic-results-per-page>
      </div>
      <div class="status">
        <atomic-query-error></atomic-query-error>
        <atomic-no-results>
          <span>
            <h2>Oooops! Can't find anything :(</h2>
          </span>
        </atomic-no-results>
      </div>
    </atomic-search-interface>
  </body>
</html>
